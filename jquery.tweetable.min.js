
(function($){$.fn.tweetable=function(options){var defaults={limit:5,username:'philipbeel',time:false,replies:false,position:'append'};var options=$.extend(defaults,options);return this.each(function(options){var act=$(this);var $tweetList;var api="http://api.twitter.com/1/statuses/user_timeline.json?screen_name=";var count="&count=";$.getJSON(api+defaults.username+count+defaults.limit+"&callback=?",act,function(data){$.each(data,function(i,item){if(i==0){$tweetList=$('<ul class="tweetList">')[defaults.position.toLowerCase()+'To'](act);}
if(defaults.replies===false){if(item.in_reply_to_status_id===null){$tweetList.append('<li class="tweet_content_'+i+'"><p class="tweet_link_'+i+'">'+item.text.replace(/#(.*?)(\s|$)/g,'<span class="hash">#$1 </span>').replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$&">$&</a> ').replace(/@(.*?)(\s|\(|\)|$)/g,'<a href="http://twitter.com/$1">@$1 </a>$2')+'</p></li>');}}else{$tweetList.append('<li class="tweet_content_'+i+'"><p class="tweet_link_'+i+'">'+item.text.replace(/#(.*?)(\s|$)/g,'<span class="hash">#$1 </span>').replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$&">$&</a> ').replace(/@(.*?)(\s|\(|\)|$)/g,'<a href="http://twitter.com/$1">@$1 </a>$2')+'</p></li>');}
if(defaults.time===true){var date=new Date(item.created_at);if(jQuery.timeago){var date_text=jQuery.timeago(date)}
else{var date_text=[date.getDate(),'/',date.getMonth(),'/',date.getFullYear(),' ',date.toLocaleTimeString()].join('');}
$('.tweet_link_'+i).append(['<small><a href="http://twitter.com/',item.user.screen_name,'/status/',item.id_str,'">',date_text,'</a></small>'].join(''))}});});});}})(jQuery);